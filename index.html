<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Album - Your Favorite Stuffs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Simple Bootstrap 4 Photography template, Responsive and Modern HTML5 Template made from bootstrap 4.">
    <meta name="keywords" content="photography template, bootstrap 4 template, bootstrap 4 album template, responsive bootstrap 4 template, bootstrap 4">
    <meta name="robots" content="index, follow">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/b48bcff610.js" crossorigin="anonymous"></script>
    <style>
        body {
            padding-bottom: 70px;
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }

        .panzoom {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .panzoom img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .navbar-profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .navbar-profile-pic:hover {
            transform: scale(1.1);
        }

        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #007bff;
            color: white;
            text-align: center;
            padding: 15px 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .bottom-bar:hover {
            background-color: #0056b3;
        }

        .bottom-bar button {
            color: white;
            background-color: transparent;
            border: 2px solid white;
            padding: 10px 20px;
            font-size: 16px;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .bottom-bar button:hover {
            background-color: white;
            color: #007bff;
            transform: scale(1.1);
        }

        #previewImageContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            padding: 10px;
            min-height: 150px;
            max-height: 300px;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        #previewImageContainer:hover {
            border-color: #007bff;
        }

        #previewImage {
            max-width: 100%;
            max-height: 100%;
            display: none;
        }

        .card {
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transform: translateY(-5px);
        }

        .jumbotron-heading {
            transition: color 0.3s ease;
        }

        .jumbotron-heading:hover {
            color: #007bff;
        }

        .modal-content {
            transition: transform 0.3s ease;
        }

        .modal-dialog {
            transition: opacity 0.3s ease;
        }

        @media (max-width: 576px) {
            body, p, h1, h2, h3, h4, h5, h6, button {
                font-size: 90%;
            }

            .bottom-bar button {
                font-size: 14px;
            }

            .navbar-profile-pic {
                width: 30px;
                height: 30px;
            }

            .jumbotron-heading {
                font-size: 24px;
            }

            .lead {
                font-size: 14px;
            }
        }
    </style>
</head>

<body>
    <header id="header">
        <div class="collapse" id="navbarHeader">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-md-7 py-4">
                        <h4>Hii Gorgeous Girl!! <i class="fa fa-heart"></i></h4>
                        <p class="text-muted">I just wanna say that I love u so much and you're the love of my life forever! Since the first time I see u I knew that you were the one who I wanna marry, have kids and spend the rest of my life with.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="navbar navbar-light box-shadow">
            <div class="container d-flex justify-content-between">
                <div class="navbar-brand d-flex align-items-center">
                    <img src="img/img1.jpg" alt="Profile" class="navbar-profile-pic">
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </div>
    </header>

    <main id="main" role="main">
        <section class="jumbotron text-center" id="mainBanner">
            <div class="container">
                <h1 class="jumbotron-heading">Welcome to your Album!</h1>
                <p class="lead text-muted">This is your album where you can save whatever you want. Photos of you, Photos of me, Photos of us. Basically, your favorite photos. Is this practical? Probably not, but it’s just a place where you can save photos of you and me and eventually share with someone that you would like to see these pictures.</p>
            </div>
        </section>

        <div class="album py-5 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-md-12" id="collection-heading">
                        <span>My Collection</span>
                    </div>
                </div>
                <div class="row" id="cardContainer">
                    <!-- Cards serão adicionados aqui dinamicamente -->
                </div>
            </div>
        </div>

        <a href="#" class="btn btn-success scrollUp" style="margin-left: 1%; margin-bottom: 2%;">
            <i class="fa-solid fa-up-long"></i>
        </a>
    </main>

    <div class="modal fade" id="addCardModal" tabindex="-1" role="dialog" aria-labelledby="addCardModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addCardModalLabel">Adicionar Novo Card</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="addCardForm" enctype="multipart/form-data">
                        <div id="previewImageContainer">
                            <img id="previewImage" src="" alt="Preview Image">
                        </div>
                        <div class="form-group">
                            <label for="cardImage">Imagem</label>
                            <input type="file" class="form-control-file" id="cardImage" name="image" accept="image/*" required>
                        </div>
                        <div class="form-group">
                            <label for="cardDescription">Descrição</label>
                            <textarea class="form-control" id="cardDescription" name="description" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Adicionar Card</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="imageModalTemplate" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="panzoom" id="imageContainer">
                        <img src="" id="modalImage" alt="Image">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-bar">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addCardModal">
            <i class="fa fa-plus"></i>
        </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/@panzoom/panzoom@9.5.0/dist/panzoom.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#addCardForm').on('submit', function(e) {
                e.preventDefault();
                const fileInput = $('#cardImage')[0];
                const description = $('#cardDescription').val();

                if (fileInput.files && fileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imgSrc = e.target.result;
                        const card = {
                            image: imgSrc,
                            description: description
                        };

                        let cards = JSON.parse(localStorage.getItem('cards')) || [];
                        cards.push(card);
                        localStorage.setItem('cards', JSON.stringify(cards));

                        addCardToDOM(card);
                        $('#addCardModal').modal('hide');
                    };
                    reader.readAsDataURL(fileInput.files[0]);
                }
            });

            $('#cardImage').on('change', function() {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        $('#previewImage').attr('src', e.target.result).show();
                    };
                    reader.readAsDataURL(file);
                } else {
                    $('#previewImage').hide();
                }
            });

            window.removeCard = function(button) {
                $(button).closest('.col-md-4').remove();
                let cards = JSON.parse(localStorage.getItem('cards')) || [];
                const imgSrc = $(button).closest('.card').find('img').attr('src');
                cards = cards.filter(card => card.image !== imgSrc);
                localStorage.setItem('cards', JSON.stringify(cards));
            };

            function addCardToDOM(card) {
                const cardHTML = `
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="${card.image}" alt="Card image cap" onclick="showImage('${card.image}')">
                            <div class="card-body">
                                <p class="card-text">${card.description}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <button type="button" class="btn btn-sm btn-outline-secondary" onclick="removeCard(this)">Eliminar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                $('#cardContainer').append(cardHTML);
            }

            function loadCards() {
                let cards = JSON.parse(localStorage.getItem('cards')) || [];
                cards.forEach(card => addCardToDOM(card));
            }

            loadCards();

            window.showImage = function(imageUrl) {
                $('#modalImage').attr('src', imageUrl);
                $('#imageModalTemplate').modal('show');
                $('#imageModalTemplate').on('shown.bs.modal', function() {
                    Panzoom(document.getElementById('modalImage'), {
                        maxScale: 5,
                        minScale: 1,
                        contain: 'outside'
                    });
                });
            };
        });
    </script>
</body>

</html>
