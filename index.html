<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Album - Your Favorite Stuffs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Simple Bootstrap 4 Photography template, Responsive and Modern HTML5 Template made from bootstrap 4.">
    <meta name="keywords" content="photography template, bootstrap 4 template, bootstrap 4 album template, responsive bootstrap 4 template, bootstrap 4">
    <meta name="robots" content="index, follow">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/b48bcff610.js" crossorigin="anonymous"></script>
    <style>
        body {
            padding-bottom: 70px;
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }

        .panzoom {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .panzoom img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .navbar-profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .navbar-profile-pic:hover {
            transform: scale(1.1);
        }

        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #007bff;
            color: white;
            text-align: center;
            padding: 15px 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .bottom-bar:hover {
            background-color: #0056b3;
        }

        .bottom-bar button {
            color: white;
            background-color: transparent;
            border: 2px solid white;
            padding: 10px 20px;
            font-size: 16px;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .bottom-bar button:hover {
            background-color: white;
            color: #007bff;
            transform: scale(1.1);
        }

        #previewImageContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            padding: 10px;
            min-height: 150px;
            max-height: 300px;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        #previewImageContainer:hover {
            border-color: #007bff;
        }

        #previewImage {
            max-width: 100%;
            max-height: 100%;
            display: none;
        }

        .card {
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transform: translateY(-5px);
        }

        .jumbotron-heading {
            transition: color 0.3s ease;
        }

        .jumbotron-heading:hover {
            color: #007bff;
        }

        .modal-content {
            transition: transform 0.3s ease;
        }

        .modal-dialog {
            transition: opacity 0.3s ease;
        }

        @media (max-width: 576px) {
            body, p, h1, h2, h3, h4, h5, h6, button {
                font-size: 90%;
            }

            .bottom-bar button {
                font-size: 14px;
            }

            .navbar-profile-pic {
                width: 30px;
                height: 30px;
            }

            .jumbotron-heading {
                font-size: 24px;
            }

            .lead {
                font-size: 14px;
            }
        }
    </style>
</head>

<body>
    <header id="header">
        <div class="collapse" id="navbarHeader">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-md-7 py-4">
                        <h4>Hii Gorgeous Girl!! <i class="fa fa-heart"></i></h4>
                        <p class="text-muted">I just wanna say that I love u so much and you're the love of my life forever! Since the first time I see u I knew that you were the one who I wanna marry, have kids and spend the rest of my life with.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="navbar navbar-light box-shadow">
            <div class="container d-flex justify-content-between">
                <div class="navbar-brand d-flex align-items-center">
                    <img src="img/img1.jpg" alt="Profile" class="navbar-profile-pic">
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </div>
    </header>

    <main id="main" role="main">
        <section class="jumbotron text-center" id="mainBanner">
            <div class="container">
                <h1 class="jumbotron-heading">Welcome to your Album!</h1>
                <p class="lead text-muted">This is your album where you can save whatever you want. Photos of you, Photos of me, Photos of us. Basically, your favorite photos. Is this practical? Probably not, but it’s just a place where you can save photos of you and me and eventually share with someone that you would like to see these pictures.</p>
            </div>
        </section>

        <div class="album py-5 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-md-12" id="collection-heading">
                        <span>My Collection</span>
                    </div>
                </div>
                <div class="row" id="albumContainer">
                    <!-- Albums serão adicionados aqui dinamicamente -->
                </div>
            </div>
        </div>

        <a href="#" class="btn btn-success scrollUp" style="margin-left: 1%; margin-bottom: 2%;">
            <i class="fa-solid fa-up-long"></i>
        </a>
    </main>

    <div class="modal fade" id="addAlbumModal" tabindex="-1" role="dialog" aria-labelledby="addAlbumModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addAlbumModalLabel">Adicionar Novo Álbum</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="addAlbumForm">
                        <div class="form-group">
                            <label for="albumName">Nome do Álbum</label>
                            <input type="text" class="form-control" id="albumName" name="albumName" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Adicionar Álbum</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addCardModal" tabindex="-1" role="dialog" aria-labelledby="addCardModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addCardModalLabel">Adicionar Novo Card</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="addCardForm" enctype="multipart/form-data">
                        <div id="previewImageContainer">
                            <img id="previewImage" src="" alt="Preview Image">
                        </div>
                        <div class="form-group">
                            <label for="cardImage">Imagem</label>
                            <input type="file" class="form-control-file" id="cardImage" name="cardImage" accept="image/*" required onchange="previewFile()">
                        </div>
                        <div class="form-group">
                            <label for="cardDescription">Descrição</label>
                            <textarea class="form-control" id="cardDescription" name="cardDescription" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Adicionar Card</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-bar">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addAlbumModal">
            Adicionar Álbum
        </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        let albums = [];

        function previewFile() {
            const preview = document.getElementById('previewImage');
            const file = document.getElementById('cardImage').files[0];
            const reader = new FileReader();

            reader.addEventListener("load", function () {
                preview.src = reader.result;
                preview.style.display = 'block';
            }, false);

            if (file) {
                reader.readAsDataURL(file);
            }
        }

        function createAlbum(name) {
            const album = {
                name: name,
                cards: []
            };
            albums.push(album);
            renderAlbums();
        }

        function addCardToAlbum(albumIndex, imageSrc, description) {
            const card = {
                imageSrc: imageSrc,
                description: description
            };
            albums[albumIndex].cards.push(card);
            renderAlbums();
        }

        function renderAlbums() {
            const albumContainer = document.getElementById('albumContainer');
            albumContainer.innerHTML = '';
            albums.forEach((album, albumIndex) => {
                const albumElement = document.createElement('div');
                albumElement.className = 'col-md-4';
                albumElement.innerHTML = `
                    <div class="card mb-4 shadow-sm">
                        <div class="card-header">
                            <h4>${album.name}</h4>
                        </div>
                        <div class="card-body">
                            ${album.cards.map(card => `
                                <div class="mb-4">
                                    <img src="${card.imageSrc}" alt="Card image" class="img-fluid">
                                    <p class="card-text">${card.description}</p>
                                </div>
                            `).join('')}
                            <button type="button" class="btn btn-sm btn-outline-primary" onclick="openAddCardModal(${albumIndex})">
                                Adicionar Card
                            </button>
                        </div>
                    </div>
                `;
                albumContainer.appendChild(albumElement);
            });
        }

        function openAddCardModal(albumIndex) {
            $('#addCardModal').modal('show');
            document.getElementById('addCardForm').onsubmit = function (event) {
                event.preventDefault();
                const imageInput = document.getElementById('cardImage');
                const descriptionInput = document.getElementById('cardDescription');
                const reader = new FileReader();
                reader.onload = function (e) {
                    addCardToAlbum(albumIndex, e.target.result, descriptionInput.value);
                    $('#addCardModal').modal('hide');
                    document.getElementById('addCardForm').reset();
                    document.getElementById('previewImage').style.display = 'none';
                };
                reader.readAsDataURL(imageInput.files[0]);
            };
        }

        document.getElementById('addAlbumForm').onsubmit = function (event) {
            event.preventDefault();
            const albumNameInput = document.getElementById('albumName');
            createAlbum(albumNameInput.value);
            $('#addAlbumModal').modal('hide');
            document.getElementById('addAlbumForm').reset();
        };

        $(document).ready(function () {
            renderAlbums();
        });
    </script>
</body>

</html>